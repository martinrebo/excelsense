(this.webpackJsonpexcelsense=this.webpackJsonpexcelsense||[]).push([[0],{18:function(e,t,n){e.exports=n(37)},23:function(e,t,n){},24:function(e,t,n){},27:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(16),l=n.n(c),s=(n(23),n(24),n(7)),i=n(1),o=n(6),u=n(10),m=n.n(u);n(27);var E=function(e){return r.a.createElement("div",{className:"grid"},r.a.createElement("span",null," ",e.asset.id," "),r.a.createElement("span",null," ",e.asset.n_number," "),r.a.createElement("span",null," ",e.asset.t_city," "),r.a.createElement("span",null," ",e.asset.t_code," "),r.a.createElement("span",null," ",e.asset.t_street_name," "),r.a.createElement("span",null," ",r.a.createElement(s.b,{to:"/entity/".concat(e.asset.id)}," Link to Entity ",e.asset.id," ")))};var d=function(e){return r.a.createElement("div",{className:"grid"},e.columns?e.columns.map((function(e,t){return r.a.createElement("span",{className:"header",key:t}," ",e," ")})):" No column",r.a.createElement("span",{className:"header"}," Link to Entities "))},f=(n(33),function(e){var t=e.fields,n=Object(a.useState)(!1),c=Object(o.a)(n,2),l=c[0],s=c[1],i=function(e){s(!l)};return r.a.createElement(r.a.Fragment,null,l?r.a.createElement("div",{className:"modal"},r.a.createElement("button",{onClick:i}," ",r.a.createElement("span",{role:"img"},"\u274c")," "),r.a.createElement("p",null," Add new ROW "),r.a.createElement("form",null,r.a.createElement("div",null,t.map((function(e,t){return r.a.createElement("input",{type:"text",name:e,placeholder:e})}))),r.a.createElement("button",{className:"submit-button",type:"submit"}," Submit "))):r.a.createElement(r.a.Fragment,null),r.a.createElement("div",{className:"modal-button"},r.a.createElement("button",{onClick:i}," ",r.a.createElement("span",{role:"img"}," \u270f\ufe0f"),"  ")))});var p=function(){var e=m()("/api/assets",{assets:[]}),t=Object(o.a)(e,2),n=t[0],a=n.data,c=n.isLoading,l=n.isError,s=(t[1],function(){if(a.assets.length>0)return Object.keys(a.assets[0])}());return r.a.createElement(r.a.Fragment,null,r.a.createElement(d,{columns:s}),c?"...loading":a.assets.map((function(e,t){return r.a.createElement(E,{key:t,asset:e})})),l?"...There is a problem":"",r.a.createElement(f,{fields:s}))},b=function(e){var t=Object(a.useState)("0px"),n=Object(o.a)(t,2),r=n[0],c=n[1],l=Object(a.useState)("0px"),s=Object(o.a)(l,2),i=s[0],u=s[1],m=Object(a.useState)(!1),E=Object(o.a)(m,2),d=E[0],f=E[1],p=Object(a.useState)(!1),b=Object(o.a)(p,2),v=b[0],g=b[1],h=Object(a.useCallback)((function(t){t.preventDefault(),e&&e.current.contains(t.target)?(c("".concat(t.pageX,"px")),u("".concat(t.pageY,"px")),f(!0),g(t.target.dataset.id)):f(!1)}),[f,e,c,u]),k=Object(a.useCallback)((function(e){f(!1)}),[f]);return Object(a.useEffect)((function(){return document.addEventListener("click",k),document.addEventListener("contextmenu",h),function(){document.removeEventListener("click",k),document.removeEventListener("contextmenu",h)}}),[]),{xPos:r,yPos:i,menu:d,dataId:v}},v=(n(34),function(e){var t=e.outerRef,n=b(t),a=n.xPos,c=n.yPos,l=n.menu,s=n.dataId;return l?r.a.createElement("ul",{className:"menu",style:{top:c,left:a}},r.a.createElement("li",{onClick:function(e){e.preventDefault(),console.log("Context Menu Test ID:",s)}}," TEST Console ID: ",s,"  ")):r.a.createElement(r.a.Fragment,null)}),g=(n(35),function(e){var t=e.columns,n=e.isLoading,c=e.isError,l=e.filteredEntities,s=Object(a.useRef)(null);return r.a.createElement("div",{ref:s},r.a.createElement(v,{outerRef:s}),r.a.createElement("div",{className:"entity-grid"},t?t.map((function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"header",key:t}," ",e," "))})):" ",n?"...loading":l.map((function(e,t){return Object.keys(e).map((function(t,n){return r.a.createElement("span",{key:n,"data-id":e.id}," ",e[t]," ")}))})),c?"...There is a problem":""))});var h=function(){var e,t=Object(i.f)().entityId,n=m()("/api/entities",{entities:[]}),a=Object(o.a)(n,2),c=a[0],l=c.data,s=c.isLoading,u=c.isError;a[1],e="nofilter"===t?l.entities:l.entities.filter((function(e){return e.id_asset===parseInt(t)}));var E=function(){if(l.entities.length>0)return Object.keys(l.entities[0])}();return r.a.createElement(r.a.Fragment,null,s?"...Loading":r.a.createElement(g,{filteredEntities:e,isLoading:s,isError:u,columns:E}),r.a.createElement(f,{fields:E}))};n(36);var k=function(){return r.a.createElement("div",{className:"herobanner"},r.a.createElement("h1",null," ExcelSense Technical Test "),r.a.createElement(s.b,{className:"link",to:"/"}," Assets "),r.a.createElement(s.b,{className:"link",to:"/entity/nofilter/"}," Entities "))};var y=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(s.a,null,r.a.createElement(k,null),r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/"}," ",r.a.createElement(p,null)," "),r.a.createElement(i.a,{path:"/entity/:entityId"}," ",r.a.createElement(h,null)," "))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.842b7347.chunk.js.map